<!-- src/app/core/barra-superior/barra-superior.html -->
<header class="navbar">
  <div class="navbar-inner">

    <!-- IZQUIERDA: LOGO -->
    <div class="navbar-left">
      <a routerLink="/" class="logo">ElectrÃ³nica-Tienda</a>
    </div>

    <!-- CENTRO: CATEGORÃA + BUSCADOR -->
    <div class="navbar-center">
      <select
        class="categoria-select"
        [(ngModel)]="categoriaSeleccionada"
        (ngModelChange)="onCategoriaChange($event)">
        <option [ngValue]="null">Todas las categorÃ­as</option>
        <option *ngFor="let cat of categorias" [ngValue]="cat">
          {{ cat }}
        </option>
      </select>

      <div class="search-box">
        <input
          type="text"
          placeholder="Buscar componentes electrÃ³nicos..."
          [(ngModel)]="textoBusqueda"
          (ngModelChange)="onTextoChange($event)" />
        <button type="button" (click)="buscar()">Buscar</button>
      </div>
    </div>

    <!-- DERECHA: USUARIO / LOGIN -->
    <div class="navbar-right">

      <!-- Invitado -->
      <ng-container *ngIf="!estaAutenticado(); else usuarioLogueado">
        <button type="button" class="link-btn primary" (click)="irAlLogin()">
          Iniciar sesiÃ³n
        </button>
      </ng-container>

      <!-- Logueado -->
      <ng-template #usuarioLogueado>
        <span class="username">
          Hola, <strong>{{ nombreUsuario }}</strong>
        </span>

        <button
          type="button"
          class="link-btn"
          *ngIf="esCliente"
          (click)="irAlCarrito()">
          ðŸ›’ Pedidos / Carrito
        </button>

        <button
          type="button"
          class="link-btn"
          *ngIf="esAdmin"
          (click)="irAlAdmin()">
          ðŸ”§ Admin
        </button>

        <button
          type="button"
          class="link-btn"
          *ngIf="esReponedor && !esAdmin"
          (click)="irAlAdmin()">
          ðŸ“¦ Inventario
        </button>

        <button
          type="button"
          class="link-btn danger"
          (click)="cerrarSesion()">
          Salir
        </button>
      </ng-template>

    </div>
  </div>
</header>
